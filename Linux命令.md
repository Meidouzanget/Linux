# Linux命令

## X Window

- [Ctrl] + [Alt] + [F2] ~ [F6] ：命令行登陆 tty2 ~ tty6 终端机；
- [Ctrl] + [Alt] + [F1] ：图形接口桌面。

```
# 把命令行变为图形界面
[[email protected] ~]$ startx
```



## sudo

**sudo 与 su 两个命令的最大区别是：**

sudo 命令需要输入当前用户的密码，su 命令需要输入 root 用户的密码。另外一个区别是其默认行为，sudo 命令只允许使用提升的权限运行单个命令，而 su 命令会启动一个新的 shell，同时允许使用 root 权限运行尽可能多的命令，直到明确退出登录。

**su 用以切换成不同的用户的身份**，默认只是切换身份，并没有切换环境变量，环境变量依然是普通用户的。切换用户身份时，用户的环境变量也切换成新用户的环境变量,所以"-"不能省略,不然有些操作无法执行。

su root 输入root密码后切换之root用户但是pwd目录不变

su - root 输入root密码后切换之root用户但是pwd目录/root

**sudo一般加的是命令：**

sudo -i root与sudo - root、sudo -i ,sudo - ，sudo root效果相同。提示输入密码时该密码为当前账户的密码，要求执行该命令的用户必须在sudoers中才可以。su需要的是切换后账户的密码，用法为“su 账户名称”。

**sudo :** 暂时切换到超级用户模式以执行超级用户权限，一般指的是root用户，提示输入密码时该密码为当前用户的密码，而不是超级账户的密码。不过有时间限制，Ubuntu默认为一次时长15分钟。

**su ：**切换到某某用户模式，提示输入密码时该密码为切换后账户的密码，用法为“su 账户名称”。如果后面不加账户时系统默认为root账户，密码也为超级账户的密码。没有时间限制。

**sudo -i:** 为了频繁的执行某些只有超级用户才能执行的权限，而不用每次输入密码，可以使用该命令。提示输入密码时该密码为当前账户的密码。没有时间限制。执行该命令后提示符变为“#”而不是“$”。想退回普通账户时可以执行“exit”或“logout”。要求执行该命令的用户必须在sudoers中才可以。

**sudo -i** 直接运行sudo命令加-i参数，要求执行该命令的用户必须在sudoers中才可以。

**sudo su** 运行sudo命令给su命令提权，运行su命令。要求执行该命令的用户必须在sudoers中才可以。



## nano文本编辑器

nano的使用其实很简单，你可以直接加上文件名就能够打开一个旧文件或新文件！例如  nano text.txt  



- [ctrl]-G：取得线上说明（help），很有用的！
- [ctrl]-X：离开naon软件，若有修改过文件会提示是否需要储存喔！
- [ctrl]-O：储存盘案，若你有权限的话就能够储存盘案了；
- [ctrl]-R：从其他文件读入数据，可以将某个文件的内容贴在本文件中；
- [ctrl]-W：搜寻字串，这个也是很有帮助的指令喔！
- [ctrl]-C：说明目前光标所在处的行数与列数等信息；
- [ctrl]-_：可以直接输入行号，让光标快速移动到该行；
- [alt]-Y：校正语法功能打开或关闭（按一下开、再按一下关）
- [alt]-M：可以支持鼠标来移动光标的功能

##### 可以在nano的画面中按下[ctrl]-G或者是[F1]按键， 就能够显示出完整的naon内指令说明了



## man/info page

能够查询命令的用处和命令的所有指令

例如 man data 查询data命令的用法

| 按键        | 进行工作                                                     |
| ----------- | ------------------------------------------------------------ |
| 空白键      | 向下翻一页                                                   |
| [Page Down] | 向下翻一页                                                   |
| [Page Up]   | 向上翻一页                                                   |
| [Home]      | 去到第一页                                                   |
| [End]       | 去到最后一页                                                 |
| /string     | 向“下”搜寻 string 这个字串，如果要搜寻 vbird 的话，就输入 /vbird |
| ?string     | 向“上”搜寻 string 这个字串                                   |
| n, N        | 利用 / 或 ? 来搜寻字串时，可以用 n 来继续下一个搜寻 （不论是 / 或 ?） ，可以利用 N 来进行“反向”搜寻。举例来说，我以 /vbird 搜寻 vbird 字串， 那么可以 n 继续往下查询，用 N 往上查询。若以 ?vbird 向上查询 vbird 字串， 那我可以用 n 继续“向上”查询，用 N 反向查询。 |
| q           | 结束这次的 man page                                          |



#### 查询有多少以个某个字母开有的命令

字母 + 两次[tab]按键

```
[[email protected] ~]$ g[tab][tab]&lt;==在g之后直接输入两次[tab]按键
Display all 217 possibilities? （y or n） &lt;==如果不想要看，按 n 离开
```



## snyc

将缓存在内存中尚未写入磁盘的数据写回到磁盘shutdown/reboot/halt 等等指令均已经在关机前进行了 sync 这个工具的调用

**Tips** 事实上sync也可以被一般帐号使用喔！只不过一般帐号使用者所更新的硬盘数据就仅有自己的数据，不像root可以更新整个系统中的数据了。



## shutdown

- #### 关机

```
[[email protected] ~]# /sbin/shutdown [-krhc] [时间] [警告讯息]
选项与参数：
-k     ： 不要真的关机，只是发送警告讯息出去！
-r     ： 在将系统的服务停掉之后就重新开机（常用）
-h     ： 将系统的服务停掉后，立即关机。 （常用）
-c     ： 取消已经在进行的 shutdown 指令内容。
时间   ： 指定系统关机的时间！时间的范例下面会说明。若没有这个项目，则默认 1 分钟后自动进行。
```

ps：从命令功能来看，/sbin 下的命令属于基本的系统命令，如shutdown，reboot，用于启动系统，修复系统，/bin下存放一些普通的基本命令，如ls,chmod等，这些命令在Linux系统里的配置文件脚本里经常用到。

从用户权限的角度看，/sbin目录下的命令通常只有管理员才可以运行，/bin下的命令管理员和一般的用户都可以使用。

- #### 重新开机，关机： reboot, halt, poweroff

```
[[email protected] ~]# halt      # 系统停止～屏幕可能会保留系统已经停止的讯息！
[[email protected] ~]# poweroff  # 系统关机，所以没有提供额外的电力，屏幕空白
```



- #### 实际使用管理工具 systemctl 关机

```
[[email protected] ~]# systemctl [指令]
指令项目包括如下：
halt       进入系统停止的模式，屏幕可能会保留一些讯息，这与你的电源管理模式有关
poweroff   进入系统关机模式，直接关机没有提供电力喔！
reboot     直接重新开机
suspend    进入休眠模式
```